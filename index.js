(function(t){function e(e){for(var n,a,r=e[0],c=e[1],l=e[2],u=0,m=[];u<r.length;u++)a=r[u],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&m.push(o[a][0]),o[a]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);d&&d(e);while(m.length)m.shift()();return i.push.apply(i,l||[]),s()}function s(){for(var t,e=0;e<i.length;e++){for(var s=i[e],n=!0,a=1;a<s.length;a++){var r=s[a];0!==o[r]&&(n=!1)}n&&(i.splice(e--,1),t=c(c.s=s[0]))}return t}var n={},a={index:0},o={index:0},i=[];function r(t){return c.p+""+({}[t]||t)+".js"}function c(e){if(n[e])return n[e].exports;var s=n[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,c),s.l=!0,s.exports}c.e=function(t){var e=[],s={"chunk-5417bbed":1,"chunk-9541bfb6":1};a[t]?e.push(a[t]):0!==a[t]&&s[t]&&e.push(a[t]=new Promise((function(e,s){for(var n="css/"+({}[t]||t)+"."+{"chunk-2d21b48d":"31d6cfe0","chunk-5417bbed":"13183344","chunk-9541bfb6":"144be94c"}[t]+".css",o=c.p+n,i=document.getElementsByTagName("link"),r=0;r<i.length;r++){var l=i[r],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===n||u===o))return e()}var m=document.getElementsByTagName("style");for(r=0;r<m.length;r++){l=m[r],u=l.getAttribute("data-href");if(u===n||u===o)return e()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=e,d.onerror=function(e){var n=e&&e.target&&e.target.src||o,i=new Error("Loading CSS chunk "+t+" failed.\n("+n+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=n,delete a[t],d.parentNode.removeChild(d),s(i)},d.href=o;var h=document.getElementsByTagName("head")[0];h.appendChild(d)})).then((function(){a[t]=0})));var n=o[t];if(0!==n)if(n)e.push(n[2]);else{var i=new Promise((function(e,s){n=o[t]=[e,s]}));e.push(n[2]=i);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=r(t);var m=new Error;l=function(e){u.onerror=u.onload=null,clearTimeout(d);var s=o[t];if(0!==s){if(s){var n=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src;m.message="Loading chunk "+t+" failed.\n("+n+": "+a+")",m.name="ChunkLoadError",m.type=n,m.request=a,s[1](m)}o[t]=void 0}};var d=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(e)},c.m=t,c.c=n,c.d=function(t,e,s){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(c.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)c.d(s,n,function(e){return t[e]}.bind(null,n));return s},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/sovdex/",c.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=e,l=l.slice();for(var m=0;m<l.length;m++)e(l[m]);var d=u;i.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"0408":function(t,e,s){},1:function(t,e){},2:function(t,e){},3:function(t,e){},4:function(t,e){},"4f8a":function(t,e,s){},5:function(t,e){},"56d7":function(t,e,s){"use strict";s.r(e);var n=s("a026"),a=s("8c4f"),o={path:"/",redirect:{name:"stake"},name:"home",meta:{name:"Home"},component:{template:"<router-view />"}},i={path:"/stake",name:"stake",meta:{name:"Stake"},component:()=>s.e("chunk-2d21b48d").then(s.bind(null,"beb6"))},r={path:"/market/:symbol",name:"market",meta:{name:"Market"},component:()=>s.e("chunk-5417bbed").then(s.bind(null,"f9cc"))},c={path:"/mine",name:"mine",meta:{name:"Mine"},component:()=>s.e("chunk-9541bfb6").then(s.bind(null,"0d43"))};n["a"].use(a["a"]);const l=new a["a"]({routes:[o,i,r,c],base:"/sovdex/"});l.beforeEach((t,e,s)=>{s(),t.meta.title||(document.title=""+t.meta.name)});var u=l,m=s("2f62"),d=s("bfa9");const h=new d["a"]({key:"vuex",storage:localStorage});var v=s("d3b7"),b=s.n(v),p={state:{scatter:null,eos:b()({}),host:"api.main.alohaeos.com",isConnected:!1},getters:{isAuth:t=>!!t.scatter,isConnected:t=>t.isConnected},mutations:{setScatter(t,e){t.scatter=e},setEos(t,e){t.eos={...t.eos,...e}},setHost(t,e){t.host=e},setConnectStatus(t,e=!0){t.isConnected=e},logout(t){t.scatter=null,t.eos=b()({}),localStorage.clear}}};n["a"].use(m["a"]);var f=new m["a"].Store({state:{},modules:{blockchain:p},plugins:[h.plugin]}),g=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[s("div",{staticClass:"z-index-1",staticStyle:{"box-shadow":"0 0 10px rgba(0,0,0,.1)"}},[s("theader")],1),s("div",{staticClass:"content-body"},[t.$store.getters.isAuth?s("router-view"):s("isConnected")],1),s("div",{staticClass:"content-footer z-index-1",staticStyle:{"box-shadow":"0 0 10px rgba(0,0,0,.1)"}},[s("bottomNavigation")],1),s("settings")],1)},C=[],_=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header flex-centered bg-secondary hide-sm"},[s("div",{staticClass:"container grid-xl"},[s("div",{staticClass:"unit"},[s("div",{staticClass:"unit-section"},[s("div",{staticClass:"tile tile-list",staticStyle:{"line-height":"20px"}},[t._m(0),s("div",{staticClass:"tile-section"},[s("div",{staticClass:"text-bold"},[t._v("SOVDEX")]),t.$store.getters.isAuth?s("div",{staticClass:"text-sm text-secondary"},[t._v(" @"+t._s(t.$store.state.blockchain.scatter.name))]):t._e()])])]),s("div",{staticClass:"unit-section"},[t._l(t.schema,(function(e,n){return t.$store.getters.isAuth?s("router-link",{key:n,staticClass:"link link-padding",class:{active:e.route.name==t.$route.name},attrs:{to:e.route}},[t._v(t._s(e.name)+" ")]):t._e()})),t.$store.getters.isAuth?s("span",{staticClass:"link link-padding material-icons",on:{click:function(e){return t.$bus.$emit("settings")}}},[t._v("settings")]):t._e(),s("auth",{staticClass:"ml"})],2)])])])},k=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tile-section tile-icon"},[s("figure",{staticClass:"icon",staticStyle:{"background-color":"transparent"}},[s("img",{attrs:{src:"image\\logo.svg",height:"40px"}})])])}],y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:t._class,attrs:{disabled:!t.$store.getters.isConnected},on:{click:t.auth}},[s("span",{staticClass:"material-icons"},[t._v(t._s(t.isAuth?"exit_to_app":"fingerprint"))]),t.symbol?t._e():s("span",{staticClass:"ml05"},[t._v("Sign "+t._s(t.isAuth?"out":"in"))])])},w=[],$=s("6039"),x=s.n($),S=s("b374"),O=s.n(S),E={data:()=>({polling:null}),computed:{isConnected(){return this.$store.state.blockchain.isConnected}},mounted(){this.polling=setInterval(()=>{this.isConnected||this.init()},5e3)},beforeDestroy(){this.polling&&clearInterval(this.polling)}};x.a.plugins(new O.a);var j={mixins:[E],props:{symbol:Boolean},data:()=>({network:null}),watch:{host(t){t&&this.init()},"$route.name"(t){this.init()}},computed:{isAuth(){return this.$store.getters.isAuth},host(){return this.$store.state.blockchain.host},eos:{get(){return this.$store.state.blockchain.eos},set(t){this.$store.commit("setEos",t)}},scatter:{get(){return this.$store.state.blockchain.scatter},set(t){this.$store.commit("setScatter",t)}},_class(){return this.symbol?this.isAuth?"text-warning":"":this.isAuth?"btn btn-warning":"btn btn-primary"}},mounted(){this.init(),this.$bus.$on("signin",()=>this.auth())},methods:{init(){const t=this.network=x.a.Network.fromJson({blockchain:"eos",chainId:"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906",host:this.host,port:443,protocol:"https"});x.a.connect("sovdex",{network:t}).then(e=>{if(!e)return console.error("[auth] Failed to connect with Scatter"),this.$store.commit("setConnectStatus",!1),!1;this.eos=x.a.eos(t,b.a),this.$store.commit("setConnectStatus")}).catch(()=>{this.$store.commit("setConnectStatus",!1)})},auth(){this.isAuth?this.logout():this.login()},login(){return x.a.login().then(t=>{if(!t)return this.$notice.error("ScatterJS no identity"),console.error("[auth] ScatterJS no identity"),!1;this.eos=x.a.eos(this.network,b.a),this.scatter=x.a.account("eos")}).catch(t=>console.log(t))},logout(){return this.$store.commit("logout"),x.a.logout().then(t=>console.log("[auth] Sign out"))}}},A=j,q=s("2877"),N=Object(q["a"])(A,y,w,!1,null,null,null),P=N.exports,T={data:()=>({schema:[{name:"Stake",route:{name:"stake"}},{name:"Exchange",route:{name:"market",params:{symbol:"soveos"}}},{name:"Mine",route:{name:"mine"}}]}),components:{auth:P}},M=T,R=Object(q["a"])(M,_,k,!1,null,null,null),V=R.exports,F=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.$store.getters.isAuth?s("div",{staticClass:"bottom-navigation show-sm"},[s("div",{staticClass:"container grid-xs height100"},[s("div",{staticClass:"unit"},[t._l(t.schema,(function(e,n){return s("router-link",{key:n,staticClass:"unit-section bottom-navigation-item",class:{active:e.route.name==t.$route.name},attrs:{to:e.route,tag:"div"}},[s("span",{staticClass:"material-icons"},[t._v(t._s(e.icon))]),e.route.name==t.$route.name?s("span",{staticClass:"bottom-navigation-label"},[t._v(t._s(e.name))]):t._e()])})),s("div",{staticClass:"unit-section bottom-navigation-item",on:{click:function(e){return t.$bus.$emit("settings")}}},[s("span",{staticClass:"material-icons"},[t._v("settings")])]),s("div",{staticClass:"unit-section bottom-navigation-item active"},[s("auth",{attrs:{symbol:!0}})],1)],2)])]):t._e()},D=[],I={data:()=>({schema:[{name:"Stake",route:{name:"stake"},icon:"account_balance_wallet"},{name:"Exchange",route:{name:"market",params:{symbol:"soveos"}},icon:"cached"},{name:"Mine",route:{name:"mine"},icon:"monetization_on"}]}),components:{auth:P}},L=I,B=Object(q["a"])(L,F,D,!1,null,null,null),H=B.exports,J=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"flex-centered height100"},[s("div",{staticClass:"container grid-xs"},[s("div",{staticClass:"section"},[s("div",{staticClass:"section-item section-item-filled"},[s("ol",[s("li",{class:{disabled:t.isConnected},style:t.isConnected?"text-decoration: line-through;":"text-decoration: none;"},[t._v("Login in "),s("a",{staticClass:"text-primary",attrs:{href:"https://www.tokenpocket.pro/"}},[t._v("Token Pocket")]),t._v(" DApp")]),s("li",[t._v("Press button "),s("button",{staticClass:"btn btn-primary btn-sm",attrs:{disabled:!t.isConnected},on:{click:function(e){return t.$bus.$emit("signin")}}},[t._v("Sign in")])])])])])])])},X=[],z={computed:{isConnected(){return this.$store.getters.isConnected}}},U=z,K=Object(q["a"])(U,J,X,!1,null,null,null),G=K.exports,Q=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"section"},[s("div",{staticClass:"section-item section-item-filled"},[s("div",{staticClass:"columns text-center"},[s("div",{staticClass:"column col-6"},[s("span",{staticClass:"text-semibold"},[t._v(t._s(t.sov))]),t._v(" "),s("span",{staticClass:"text-secondary"},[t._v("SOV")])]),s("div",{staticClass:"column col-6"},[s("span",{staticClass:"text-semibold"},[t._v(t._s(t.svx))]),t._v(" "),s("span",{staticClass:"text-secondary"},[t._v("SVX")])])])])])},W=[],Y={data:()=>({sov:0,svx:0,polling:null}),computed:Object(m["b"])({eos:t=>t.blockchain.eos,scatter:t=>t.blockchain.scatter}),watch:{scatter(t){t&&this.init()}},mounted(){this.polling=setInterval(()=>this.init(),1e3)},beforeDestroy(){this.polling&&clearInterval(this.polling)},methods:{init(){this.getSOV(),this.getSVX()},getSOV(){this.eos.getTableRows({json:"true",code:"sovmintofeos",scope:this.scatter.name,table:"accounts"}).then(t=>{this.sov=parseFloat(t.rows[0].balance)})},getSVX(){this.eos.getTableRows({json:"true",code:"svxmintofeos",scope:this.scatter.name,table:"accounts"}).then(t=>{this.svx=parseFloat(t.rows[0].balance)})}}},Z=Y,tt=Object(q["a"])(Z,Q,W,!1,null,null,null),et=tt.exports,st=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("modal",{attrs:{name:"settings",_class:"modal-sm",event:"settings"}},[s("div",{attrs:{slot:"body"},slot:"body"},[s("rent",{staticClass:"mb"}),s("host")],1)])},nt=[],at=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"section-title"},[t._v("Rent")]),s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.quantity,expression:"quantity"}],staticClass:"form-input",attrs:{type:"number",min:"0"},domProps:{value:t.quantity},on:{input:function(e){e.target.composing||(t.quantity=e.target.value)}}}),s("label",[t._v("SOV quantity")])]),s("div",{staticClass:"columns"},[s("div",{staticClass:"column col-4"},[s("button",{staticClass:"btn btn-primary btn-sm btn-block",attrs:{disabled:t.$v.quantity.$invalid},on:{click:function(e){return t.submit("Rent CPU")}}},[t._v("Rent CPU")])]),s("div",{staticClass:"column col-4"},[s("button",{staticClass:"btn btn-primary btn-sm btn-block",attrs:{disabled:t.$v.quantity.$invalid},on:{click:function(e){return t.submit("Rent NET")}}},[t._v("Rent NET")])]),s("div",{staticClass:"column col-4"},[s("button",{staticClass:"btn btn-primary btn-sm btn-block",attrs:{disabled:t.$v.quantity.$invalid},on:{click:function(e){return t.submit("Buy RAM")}}},[t._v("Rent RAM")])])])])},ot=[],it=s("b5ae"),rt={data:()=>({quantity:0}),computed:Object(m["b"])({eos:t=>t.blockchain.eos,scatter:t=>t.blockchain.scatter}),validations(){return{quantity:{required:it["required"],between:Object(it["between"])(1,777e4)}}},methods:{submit(t){confirm(`${t} with ${this.quantity} SOV?`)&&this.eos.transaction({actions:[{account:"sovmintofeos",name:"transfer",authorization:[{actor:this.scatter.name,permission:"active"}],data:{from:this.scatter.name,to:"sovresources",quantity:this.$options.filters.eosAmountFormat(this.quantity,"SOV"),memo:t}}]}).then(()=>{this.$notice.success(t)}).catch(e=>{console.error(`[rent | ${t}]`,e),this.$notice.error(`Rent "${t}" error`)})}}},ct=rt,lt=Object(q["a"])(ct,at,ot,!1,null,null,null),ut=lt.exports,mt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"section-title mb0"},[t._v("Host")]),s("div",{staticClass:"form-group form-action"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.host,expression:"host"}],staticClass:"form-input",domProps:{value:t.host},on:{input:function(e){e.target.composing||(t.host=e.target.value)}}}),s("span",{staticClass:"material-icons link action",on:{click:function(e){return t.$store.commit("setHost",t.host)}}},[t._v("cached")])])])},dt=[],ht={data:()=>({host:""}),mounted(){this.host=this.$store.state.blockchain.host}},vt=ht,bt=Object(q["a"])(vt,mt,dt,!1,null,null,null),pt=bt.exports,ft={components:{rent:ut,host:pt}},gt=ft,Ct=Object(q["a"])(gt,st,nt,!1,null,null,null),_t=Ct.exports,kt={mounted(){console.log("%c Developed by Nikita Marcius","background: #5490f1; color: white; display: block;","https://github.com/nikitamarcius")},components:{theader:V,bottomNavigation:H,isConnected:G,balance:et,settings:_t}},yt=kt,wt=Object(q["a"])(yt,g,C,!1,null,null,null),$t=wt.exports,xt=s("e2ec"),St=s("1dce"),Ot=s.n(St),Et=s("b4b3"),jt=s.n(Et);s("3a93");n["a"].use(xt["a"]),n["a"].use(Ot.a),n["a"].use(jt.a),n["a"].filter("eosAmountFormat",(t,e="SVX")=>{let s="pbtc"==e?8:4;return parseFloat(t).toFixed(s)+" "+e.toUpperCase()}),n["a"].prototype.$bus=new n["a"];var At=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"modal"},[s("a",{directives:[{name:"show",rawName:"v-show",value:!t.event&&!t.button,expression:"!event && !button"}],on:{click:t.toggle}},[t._v(t._s(t.name))]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.button,expression:"button"}],on:{click:t.toggle}},[t._t("button")],2),s("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"modal active",class:t._class},[s("transition",{attrs:{name:"fade"}},[t.show?s("div",{staticClass:"modal-overlay",on:{click:t.toggle}}):t._e()]),s("transition",{attrs:{name:"animation"}},[t.show?s("div",{staticClass:"modal-container"},[s("div",{staticClass:"modal-header"},[t.header?t._e():s("div",{staticClass:"content-padding unit"},[s("div",{staticClass:"unit-section modal-title"},[t._v(t._s(t.name))]),s("div",{staticClass:"unit-section"},[s("span",{staticClass:"material-icons link",on:{click:t.toggle}},[t._v(" close ")])])]),t._t("header")],2),s("div",{staticClass:"modal-body"},[t._t("body")],2),t.footer?s("div",{staticClass:"modal-footer"},[t._t("footer")],2):t._e()]):t._e()])],1)])},qt=[],Nt={props:["name","event","_class"],data:()=>({show:!1}),mounted(){this.event&&this.$bus.$on(this.event,this.toggle)},computed:{header(){return!!this.$slots.header},footer(){return!!this.$slots.footer},container(){return!!this.$slots.container},button(){return!!this.$slots.button}},methods:{toggle(){this.show?this.show=!1:this.show=!0,this.$emit("open",this.show)}}},Pt=Nt,Tt=(s("db99"),Object(q["a"])(Pt,At,qt,!1,null,null,null)),Mt=Tt.exports;n["a"].component("modal",Mt),n["a"].component("balance",et);s("c789"),s("0408");n["a"].config.productionTip=!1,new n["a"]({el:"#app",render:t=>t($t),store:f,router:u})},6:function(t,e){},db99:function(t,e,s){"use strict";var n=s("4f8a"),a=s.n(n);a.a}});
//# sourceMappingURL=index.js.map